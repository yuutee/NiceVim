# -*- coding: utf-8 -*-
import sublime, sublime_plugin

# emacs1
# good
emacs1 = '''                 011110    01110                              0111110         
                01111110 011111110                           01111111         
               01111111101111111110                          011111110        
      0       0111111111111111111110                        0111111110        
     00      011000011111111111111110                       1100011111        
    0010   00110   0011110000011111110                     010   01111        
    01110 01110     00110    0001111110        0         0 01    00110        
   00111111110       001       001111110      00        00010     0110        
   0011111110        000        001111110    010        0000      0110        
   001111110        00           00111111100011  0     01         0110        
    0011100        01             0011111111110 010  0010         011         
     0000         010              00111111111  01111110          011         
                  00                0011111110  11111110          010         
                 00           010    00111100  01111110           010         
                01           0111     00000    0111110            110         
                00        00 01110             001100             11          
               00        0100111110             000              010          
              01        01000111110                              010          
              00       011 00011110                              01           
             01      00110   001111                              00           
            010     01100    001111                             010           
            010   00110       00111                             01            
           00111111110         0110                             00            
           0111111110          0110                             00            
          0011111100           0110                             1             
          00111110      0000   0110                            00             
          0001000     0011110  011                  0          00             
           0000    0011111100  010                 01         01              
                  01110001000  00                  00         01              
                011000000000       0              01          00              
               0110000 0000       00              00          10              
             001000  00000        00             010         010              
            011000   000         01              10          01               
           01000     0          010             01           00               
          01000                 010             10          010               
         01000                 010             01           01                
        0100      00          010         0   010           01                
       0110    00110         0110        010 010            00                
      01111000011000         010         0111110            00                
      0111111111000         011         0111110             10                
      011111110000         0110        0111111             010                
      0011110000           010         0111110             01                 
       0010000            010          100110    00        00    000   0000   
       01000       0010  0110   0011  010000   01000       00 001000 011000   
      01000       01100 01101  01110 010  0  0100000       0 0100000110000    
     0100       001110 0010110011110 01    001000010       01100 011100       
    0100       010110000101101001110 10   0100001100      01100 011111111100  
   0100       010010000110111000110 01  00100 01110      0110   0000000001110 
  0100       01001100011011100 1110 00 01100  01110     01100          000110 
 0100      001000100001001100 0111001 01110   1111    001110             0110 
 110      010000110001101100  011100000110   011110  01111110   00       1100 
0110    001000 111001100100   1111100001100  01111111001111110010 0    00100  
11100 001100  011000100110    1111100011100  011111000 01111000001100001000  0
11111111000   1100010 000     011000 01000    010000   0000000  000110000    0
1111111000   0100 010 00      0000    000     0000              0000000      0
11111000     100 010  0                                                       
0110000      00  00                                                           
 0000           01                                                            
                00                                                            
                0                                                             
               0                                                                                                                                                                                                                                                                    
'''

# emacs2
# very good
emacs2 = '''@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@iXXXXXXXXXXXXXXXXXXXXXXX2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@;rrr5X3XX222222222222222222X3irrrr;2@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@;rrsiisi5222XXXXXXXXXXXXXXXXXXXX2Sissiissrr;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@rrsiiiS522XXXXXXXX2222222222222222222X2X25iiiiisr:@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@rrsiii522XXXXXXX222255SSSSiiiiiiiiiiSSS5222X2XX25Siiisr;@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@rriii52XXXXXXXX2225SSiiiiiissssssssssssiiiiiSS52XXXXX2SiSsss@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@:rsii52XXXXXXX22225SSiiiiisssssssssssiiiiiiiiSSS522X3hG&G9X2Siisr@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@rrsii2XXXXX2X22225SSSiiiissssssssrrrr;::::::::::,,,,..,,:;iXAAGXSiisr@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@rsSS2XXXX22X22225SSiiiisssssssrrrrrrrr;:,.                    :2AG2Siiss@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@;sSS2XXX2XXX22225SSiiiiiiiisssrrrrrrrrrrrsiiSiiisr;:,.            .XA32Siss@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@rii2XXXXXX222225SSSiiS5SiissssssiissssrrrrrrrssiiS52XXXXSr.          sA322iisr@@@@@@@@@@@@@@@@@@@
@@@@@@@@@rsSS2XXXXX2222225SSiiiSr,          ..,::;;rrrrsssiiiiiSS229AH;          SA3X2Ssss@@@@@@@@@@@@@@@@@@
@@@@@@@@sii2XXXX222222225Siiiii.                        ...,,:::;;;;;;.          .G3X222iis@@@@@@@@@@@@@@@@@
@@@@@@@riS2XXX2X22222225SSiiiS;                                                   9X2XX22iss;@@@@@@@@@@@@@@@
@@@@@@ri5XXXXXX22222255SSiiisSs   ......                                         ,GX2XXX22Sii;@@@@@@@@@@@@@@
@@@@@sS5XXXXXXX2222225SSiiissi2;  ..... ..                                      .3922XXXX222Sii@@@@@@@@@@@@@
@@@@si52XXXXXX22222255SiiiissiS2:  .. ...     ,:;;;rrrrr;;;;::,,..            .r&GX22XXXXXXX2ii@@@@@@@@@@@@@
@@@SiS2XXXX2222222225SSiiissssi52;   . ..   .i5SiiiiiiiiiSS552222255isr;::;;s2AHhX2222XXXXXX2Sii@@@@@@@@@@@@
@@@s52XXX222222222255SSiiissssssi2r     ... .SSrrrrrrrrrrrrrsssiiS52X3hGAAAHHAhX222222XXXXXX25s3#:@@@@@@@@@@
@@rS5XXX2222222222225SSiiisssssrsi2i,    .   .rsr;;;;;;rrrrrrrrrsssiii5522XX2222222222XXXX25XH@#:. ,@@@@@@@@
@siSXX222222222222225SSiiiisssrrrssS2r.        ,rsrr;rrrrrrrrrrrrsssiiiiS5555222222222XX25XM@@9,.  2@@@@@@@@
@s52X22222222222222255Siiiisssssrrrsi5S;.        ,rssrrrrrrrrrrsssssiiiSS552522222222225XM@@@;.. 2@@@@@@@@@@
355X2222222222222222555Siiiissssssrrssi5S;.        .;sisrrrrrssssiiiiiS5555222222222252B@@@2.. ;@@@@@@@@@@@@
2X222222222222222222255Siiiiissssrrrrrssi2S;.         ;iSissssssiiiiS5555555522222225&@@@B:  ,#@@BH@@@@@@@@@
XX2222222222222222222255SSiiiiiiiiisssiiii5X2s,         :i2SiiiiiSSS55555555522222S3@@@#S. .X@@@AXX@@@@@@@@@
X22222222222222222222222222XXX225SiisssssiS529GXr,        ,iX25SSSSS555555555222S2B@@@G; .r@@@@&h22M@@@@@@@@
X2222222222222222222X3hh35s;:,.             ..,;sis;,.      ,s3325SS55S55555525SG@@@Ai,.;#@@@Bh992S9@@@@@@@@
X2X22222222222222X9G3i;.                          .,,,...     .rX3255S5555552S2#@@A2;.:G@@@@A993X5S5@@@@@@@@
X222222222222222hhs.                                 ......      ;2925555555S&@@B3s,,5@@@@#G99X225Si@@@@@@@@
X2222222222222Xhr            ..............                        .s25555S2#@#95;,s@@@@@A993X22225i@@@@@@@@
X222222222222XX.            .... ....        ..,,,,,::::;;;;;rrr;;::;S255SH@@G2s:;H@@@@#G39X2222225i@@@@@@@@
X22222222222X3.                        .:ri23G&AAAAAAAAAAAAAAAAAAA&hX25S59222ir;X@@@@@H933X22222X22i@@@@@@@@
X222222222229i  ......              :i9AHHA&h93XXXXXXX222222222X222225iX@@S,r;r@@@@@#&33XX22222XX22s@@@@@@@@
X22222222222h2  .........        ,SABH&9X22555SSSSSSSSSSSSSSSSS55555SiA@#Sssi&22@@@B933X22222222X22i@@@@@@@@
2222222222229H;  ...........    rMBGX255SiiiiiiiiiiiiiiiiiiiiiiSSS5i5@@3rrsX@@@A;XH93X2222222222225@@@@@@@@@
3552222222223AH:  ............ ;#A25SSiiiiiiiiiiiiiiiiiiiiiiiiiiSisG@#s;rXB@@@@@B393X2222222222222S@@@@@@@@@
@i5222222222X9HB;  ........... .G&2SSiiiiiiisisisssssssssssiiiiisi#@&;;iA@@@@@#&G9X222222222222X22s@@@@@@@@@
@rS5222222222X9A#X,  .........   s935SiiiiissssssssssssssssssisrX@@S:;2B@@@@@A99322222222222222225@@@@@@@@@@
@@i52222222222X9&MMS,  .......     ;5X25iiissssssssssssssssssrrB@#r:r9#@@@@M9X3X22222222222222X22i@@@@@@@@@@
@@iSS2222222222X39A#M2:   .....      .;s5225iissssssssssssssrS@@h;;iA@@@@@AXXX222222222222222X22S@@@@@@@@@@@
@@@iSS22222222222X39AM#Gr,   ...         .:;sS55SiisssssssrrG@@i:rXM@@@@M32225552222222222222222@@@@@@@@@@@@
@@@@iS5222222222222X39GH#BX;.    ..            ,:rsiSSSSirs@@Br;sG@@@@@&225SSiSS5222222222222522@@@@@@@@@@@@
@@@@@iS22222222222222XX3h&BBA2r,                     .,::2@@3;;2B@@@@MX55SiiiiiS5222222222225Xi@@@@@@@@@@@@@
@@@@@9SS2222222222222222XXX3hAA&2r:.                    r@@i;iG@@@@@AX25SiiiiiS5522222222225XX@@@@@@@@@@@@@@
@@@@@@SSS22222222222222222225522X99Xir:,.              #@#rr2M@@@@hrrsS225iiiSS52222222222525@@@@@@@@@@@@@@@
@@@@@@@5SS5222222222222225SiiiiiiiiS22225isr;::,...  r@@&rSA@@@@#r..    ,r5X5S5222222222252S@@@@@@@@@@@@@@@@
@@@@@@@@2SSS22222222222255SiiissssssssssiiS5522222iSi2@A5G@@@@@X:..        ;22222222222522i@@@@@@@@@@@@@@@@@
@@@@@@@@@@iSS2222222222225SSSSSiiiiiiiissiiiiiiiSsi@@S .&@@@@Br,,.          ;hX2222222525@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@sSS522222222225sr;:,,,............... ,@@B&B&s.S@2:,,.          ;39X222225252@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@sS5S52222222222Sisr;::,..           .@@h9@@@@G,:..      .,:rShBBhX22225522@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@i55S52222222XXXXXXXXX2225Siisssr;2@@hH@@@@@H5ssrrsiS29&HBMMB&3X2222S22S@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@X22S222222XXXXXX2222555555522SM@@A#@@@@HX2XXXXXX39hhGGGh93X22255222@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@&X29##h22S5222222XXXXXXX2225555SiA@@B@@@@BXS55SSS5222XX333X22222522XG@Bh5Hr@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@ ;X25X9hGAA&325S2222222XXXXXXXXX225A@##@@@#h222255522XXXXXX22222552X9AH&h33252;.@@@@@@@@@@@@@@@@@@@
@@@@@@@@@r2XX3hh9hGhAAAh225552222222XXXXXX2H@@@@@#AXXXXX222XXXXX222222552X3&AAGh9399939sr@@@@@@@@@@@@@@@@@@@
@@@@@@@@@5A&h9hhhGGhGGAAH&9X22S55222222225H@@@@@A3XXX22222222222255522X9GAAAGGhhhhGhhhAXr@@@@@@@@@@@@@@@@@@@
@@@@@@@@@&&G99hhhhhhhhGG&AAHAG3X22555552SH@@@@A3XXX222222225555522X3h&HA&Ghhhh9hGhhhhGh29@@@@@@@@@@@@@@@@@@@
@@@@@@@@@ AH339GhGhhhGGhGGhG&AAAAG93XX25H@@#&22225SSSSS52222XX39&AHAA&&hhhhh9hhh9Ghh&3BH@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@G92293399hh9h9hGGGGGGAAAHAG#@@#G3Gh3XXXXX339hG&AHAHAAGGhGGhhhhhG9hhGhhXXh&@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@:2M933hGhGG99G&h&hGhhGh&A@@AAMMMHAHAHAAAHHAA&AGh&hhh99GGhh9GGX&h&hhB2:@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@::2A5&X2GGAXh9GG99GG3GABHAAhhGGGGh&GGhG&Ah99hGG33hGHGGH3B&: @@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@ ::SGSXXh292hMBHHHA&&&&&&&h9hHM##392AXXHhS,:,@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@i3333i333AA3333ii i @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
'''


class NiceVimCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		region_all = sublime.Region(0, self.view.size())
		
		self.view.replace(edit, region_all, emacs2)

		if self.view.file_name():
			self.view.set_scratch(True)
			self.view.run_command("save")
		